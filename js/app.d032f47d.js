(function(){"use strict";var e={7021:function(e,t,r){var s=r(9242),a=r(3396);const i={id:"app"},n={class:"container"},l={class:"header"};function o(e,t,r,s,o,d){const u=(0,a.up)("user-form"),c=(0,a.up)("user-search"),h=(0,a.up)("UserList");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",n,[(0,a._)("div",l,[(0,a.Wm)(u,{onUserAdded:d.addUser},null,8,["onUserAdded"]),(0,a.Wm)(c,{modelValue:o.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=e=>o.searchQuery=e)},null,8,["modelValue"])]),(0,a.Wm)(h,{users:d.filteredUsers,onUserDeleted:d.handleUserDeletion,onUpdateField:d.handleUserUpdate},null,8,["users","onUserDeleted","onUpdateField"])])])}var d=r(7139);const u={class:"user-list"},c={key:0,class:"user-card"},h=["src"],p={key:1,class:"avatar-placeholder"},m={class:"user-content"},f=["onClick"],v=["onClick"];function y(e,t,r,i,n,l){const o=(0,a.up)("UserDetails");return(0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.users,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.id,class:"user-item"},[n.selectedUserId!==e.id?((0,a.wg)(),(0,a.iD)("div",c,[e.avatar?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.avatar,alt:"User avatar",class:"avatar"},null,8,h)):(0,a.kq)("",!0),e.avatar?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",p,(0,d.zw)(l.userInitials(e)),1)),(0,a._)("div",m,[(0,a._)("h3",{onClick:t=>n.selectedUserId=e.id},(0,d.zw)(l.formatName(e.first_name,e.last_name)),9,f),(0,a._)("p",null,(0,d.zw)(e.email),1)]),(0,a._)("button",{onClick:(0,s.iM)((t=>l.deleteUser(e.id)),["stop"]),class:"delete-button"}," Delete ",8,v)])):(0,a.kq)("",!0),n.selectedUserId===e.id?((0,a.wg)(),(0,a.j4)(o,{key:1,user:e,onClose:t[0]||(t[0]=e=>n.selectedUserId=null),onUpdateField:l.handleUpdateField},null,8,["user","onUpdateField"])):(0,a.kq)("",!0)])))),128))])])}const U={key:0,class:"modal"},g=["src"],w={key:1,class:"avatar-placeholder"},_={class:"user-detail"},b=(0,a._)("strong",null,"Phone: ",-1),k={class:"user-detail"},D=(0,a._)("strong",null,"Address: ",-1);function F(e,t,r,i,n,l){return r.user?((0,a.wg)(),(0,a.iD)("div",U,[r.user.avatar?((0,a.wg)(),(0,a.iD)("img",{key:0,src:r.user.avatar,alt:"User avatar",class:"avatar"},null,8,g)):((0,a.wg)(),(0,a.iD)("div",w)),(0,a._)("h3",null,(0,d.zw)(l.formattedName),1),(0,a._)("p",null,(0,d.zw)(r.user.email),1),(0,a._)("div",_,[b,"phone"===n.editingField?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.editableValue=e),type:"text",class:"editable-input"},null,512),[[s.nr,n.editableValue]]),(0,a._)("button",{onClick:t[1]||(t[1]=e=>l.saveField("phone"))},"Save")],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("span",null,(0,d.zw)(l.formattedPhone),1),(0,a._)("button",{onClick:t[2]||(t[2]=e=>l.editField("phone"))},"Edit")],64))]),(0,a._)("div",k,[D,"address"===n.editingField?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.editableValue=e),type:"text",class:"editable-input"},null,512),[[s.nr,n.editableValue]]),(0,a._)("button",{onClick:t[4]||(t[4]=e=>l.saveField("address"))},"Save")],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("span",null,(0,d.zw)(l.formattedAddress),1),(0,a._)("button",{onClick:t[5]||(t[5]=e=>l.editField("address"))},"Edit")],64))]),(0,a._)("button",{onClick:t[6]||(t[6]=(...e)=>l.close&&l.close(...e))},"Close")])):(0,a.kq)("",!0)}var $=r(1076),V={props:{user:Object},emits:["update-field","close"],data(){return{editingField:null,editableValue:""}},computed:{formattedName(){return`${this.user.first_name||""} ${this.user.last_name||""}`.trim()||"No name provided"},formattedPhone(){return this.user.phone||"Not provided"},formattedAddress(){return this.user.address||"Not provided"}},methods:{close(){this.$emit("close")},editField(e){this.editingField=e,this.editableValue=this.user[e]||""},async saveField(e){try{await $.Z.put(`https://reqres.in/api/users/${this.user.id}`,{[e]:this.editableValue}),this.$emit("update-field",{field:e,id:this.user.id,value:this.editableValue}),this.editingField=null}catch(t){console.error(`Error updating ${e}`,t)}}},watch:{user:{handler(e){e&&(this.editableValue=e[this.editingField]||"")},deep:!0}}},O=r(89);const C=(0,O.Z)(V,[["render",F]]);var E=C;const A={NODE_ENV:"production",BASE_URL:"/user-managment-app/"}.VUE_APP_API_URL||"https://reqres.in/api/users",j=e=>{throw console.error("API error",e),e},q=async()=>{try{const e=await $.Z.get(A);return e.data}catch(e){j(e)}},I=async e=>{try{const t=await $.Z.post(A,e);return t.data}catch(t){j(t)}},S=async(e,t)=>{try{const r=await $.Z.put(`${A}/${e}`,t);return r.data}catch(r){j(r)}},N=async e=>{try{await $.Z.delete(`${A}/${e}`)}catch(t){j(t)}};var P={fetchUsers:q,addUser:I,updateUser:S,deleteUser:N},x={components:{UserDetails:E},props:{users:{type:Array,default:()=>[]}},data(){return{selectedUserId:null}},methods:{handleUpdateField({field:e,id:t,value:r}){this.$emit("update-field",{field:e,id:t,value:r})},userInitials(e){return`${e.first_name.charAt(0)}${e.last_name.charAt(0)}`},formatName(e,t){return`${e||""} ${t||""}`.trim()||"No name provided"},deleteUser(e){P.deleteUser(e).then((()=>{this.$emit("user-deleted",e)})).catch((e=>{console.error("Error deleting user",e)}))}}};const Z=(0,O.Z)(x,[["render",y]]);var z=Z;const L={class:"user-form"},Q={class:"form-group"},H={key:0},M={class:"form-group"},Y={key:0},T=(0,a._)("button",{type:"submit"},"Add User",-1);function W(e,t,r,i,n,l){return(0,a.wg)(),(0,a.iD)("div",L,[(0,a._)("form",{onSubmit:t[2]||(t[2]=(0,s.iM)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"]))},[(0,a._)("div",Q,[(0,a.wy)((0,a._)("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>n.name=e),type:"text",required:"",placeholder:"Enter your name"},null,512),[[s.nr,n.name]]),n.errors.name?((0,a.wg)(),(0,a.iD)("span",H,(0,d.zw)(n.errors.name),1)):(0,a.kq)("",!0)]),(0,a._)("div",M,[(0,a.wy)((0,a._)("input",{id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>n.email=e),type:"email",required:"",placeholder:"Enter your email"},null,512),[[s.nr,n.email]]),n.errors.email?((0,a.wg)(),(0,a.iD)("span",Y,(0,d.zw)(n.errors.email),1)):(0,a.kq)("",!0)]),T],32)])}var R={data(){return{name:"",email:"",errors:{}}},methods:{validateForm(){return this.errors={},this.name||(this.errors.name="Name is required"),this.email.includes("@")||(this.errors.email="Email is invalid"),0===Object.keys(this.errors).length},async submitForm(){if(!this.validateForm())return;const e=this.name.split(" "),t={first_name:e[0],last_name:e.slice(1).join(" ")||"",email:this.email};try{const e=await P.addUser(t);this.$emit("user-added",e),this.name="",this.email=""}catch(r){console.error("Error adding user",r)}}}};const B=(0,O.Z)(R,[["render",W]]);var K=B;const G=["value"];function J(e,t,r,s,i,n){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("input",{type:"text",value:r.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),placeholder:"Search users...",class:"search-input"},null,40,G)])}var X={props:{modelValue:String}};const ee=(0,O.Z)(X,[["render",J]]);var te=ee,re={name:"App",components:{UserList:z,UserForm:K,UserSearch:te},data(){return{users:[],searchQuery:""}},computed:{filteredUsers(){if(!this.searchQuery)return this.users;const e=this.searchQuery.toLowerCase();return this.users.filter((t=>`${t.first_name} ${t.last_name} ${t.email}`.toLowerCase().includes(e)))}},async mounted(){await this.fetchUsers()},methods:{async fetchUsers(){try{const e=await P.fetchUsers();this.users=e.data}catch(e){console.error("Error fetching users:",e)}},handleInput(e){this.searchQuery=e},addUser(e){this.users.unshift(e)},handleUserDeletion(e){this.users=this.users.filter((t=>t.id!==e))},handleUserUpdate({field:e,id:t,value:r}){const s=this.users.findIndex((e=>e.id===t));-1!==s&&P.updateUser(t,{[e]:r}).then((()=>{this.users[s][e]=r})).catch((t=>{console.error(`Error updating user ${e}:`,t)}))}}};const se=(0,O.Z)(re,[["render",o]]);var ae=se;(0,s.ri)(ae).mount("#app")}},t={};function r(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,s,a,i){if(!s){var n=1/0;for(u=0;u<e.length;u++){s=e[u][0],a=e[u][1],i=e[u][2];for(var l=!0,o=0;o<s.length;o++)(!1&i||n>=i)&&Object.keys(r.O).every((function(e){return r.O[e](s[o])}))?s.splice(o--,1):(l=!1,i<n&&(n=i));if(l){e.splice(u--,1);var d=a();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[s,a,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,i,n=s[0],l=s[1],o=s[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(o)var u=o(r)}for(t&&t(s);d<n.length;d++)i=n[d],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},s=self["webpackChunkuser_app"]=self["webpackChunkuser_app"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(7021)}));s=r.O(s)})();
//# sourceMappingURL=app.d032f47d.js.map